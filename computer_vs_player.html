<!DOCTYPE html>
<html>
<head>
	<title>Tic Tac Toe</title>
	<link rel="stylesheet" type="text/css" href="styles.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
	<link rel="stylesheet" type="text/css" href="D:\html\assignment of full form\fontawesome\fonts\css\all.css">
</head>
<body>
	<h1 class="animate__animated animate__rubberBand">TIC-TAC-TOE</h1>
	<div id="box" class="animate__animated animate__bounceInDown">
		<h2 id="playerbox">---PLAYER X---</h2>
		<h2 id="restarting"></h2>
		<form id="rst">
		<table cellpadding="10" cellspacing="20">
			<tr>
				<td>
					<input type="button" value="" id="b1" class="btns" name="1">
				</td>
				<td>
					<input type="button" value="" id="b2" class="btns" name="2">
				</td>
				<td>
					<input type="button" value="" id="b3" class="btns" name="3">
				</td>
			</tr>
			<tr>
				<td>
					<input type="button" value="" id="b4" class="btns" name="4">
				</td>
				<td>
					<input type="button" value="" id="b5" class="btns" name="5">
				</td>
				<td>
					<input type="button" value="" id="b6" class="btns" name="6">
				</td>
			</tr>
			<tr>
				<td>
					<input type="button" value="" id="b7" class="btns" name="7">
				</td>
				<td>
					<input type="button" value="" id="b8" class="btns" name="8">
				</td>
				<td>
					<input type="button" value="" id="b9" class="btns" name="9">
				</td>
			</tr>
		</table>
		</form>
		<table id="tb">
			<tr>
				<td>
					<button id="clear">Restart</button>
				</td>
				<td>
					<a href="index.html" id="mm">Main Menu</a>
				</td>
			</tr>
		</table>	
	</div>
	<script>
		let plname=document.querySelector('#playerbox');
		let but1=document.querySelector('#b1');
		let but2=document.querySelector('#b2');
		let but3=document.querySelector('#b3');
		let but4=document.querySelector('#b4');
		let but5=document.querySelector('#b5');
		let but6=document.querySelector('#b6');
		let but7=document.querySelector('#b7');
		let but8=document.querySelector('#b8');
		let but9=document.querySelector('#b9');
		let reset=document.querySelector('#clear');
		let restart=document.querySelector('#restarting');
		function gameover()
		{
			plname.innerText='---PLAYER X---';
			but1.value='';
			but2.value='';
			but3.value='';
			but4.value='';
			but5.value='';
			but6.value='';
			but7.value='';
			but8.value='';
			but9.value='';
			restart.innerText='';
		}
		reset.addEventListener('click',function()
		{
			gameover();
		});
		let c=10;
		let countdown=()=>
		{
			restart.innerText='Next Match in : '+(c--);
			if(c==-2)
			{
				c=10;
			}
		}
		var clr1;
		function again()
		{
			let count=setInterval(countdown,1000);
			clr1=setTimeout(function()
			{
				clearInterval(count);
				gameover();	
			},12000);
			reset.addEventListener('click',function()
			{
				clearTimeout(clr1);
				clearInterval(count);
				c=10;
			});
		}
		function win()
		{
			if((but1.value==='X' && but2.value==='X' && but3.value==='X') ||
			   (but1.value==='X' && but4.value==='X' && but7.value==='X') ||
			   (but1.value==='X' && but5.value==='X' && but9.value==='X') ||
			   (but2.value==='X' && but5.value==='X' && but8.value==='X') ||
			   (but3.value==='X' && but5.value==='X' && but7.value==='X') ||
			   (but3.value==='X' && but6.value==='X' && but9.value==='X') ||
			   (but4.value==='X' && but5.value==='X' && but6.value==='X') ||
			   (but7.value==='X' && but8.value==='X' && but9.value==='X'))
			{
				plname.innerText='PLAYER-X WINS';
				again();
			}
			else if((but1.value==='O' && but2.value==='O' && but3.value==='O') ||
			   		(but1.value==='O' && but4.value==='O' && but7.value==='O') ||
			   		(but1.value==='O' && but5.value==='O' && but9.value==='O') ||
			   		(but2.value==='O' && but5.value==='O' && but8.value==='O') ||
			   		(but3.value==='O' && but5.value==='O' && but7.value==='O') ||
			   		(but3.value==='O' && but6.value==='O' && but9.value==='O') ||
			   		(but4.value==='O' && but5.value==='O' && but6.value==='O') ||
			   		(but7.value==='O' && but8.value==='O' && but9.value==='O'))
			{
				plname.innerText='COMPUTER WINS';
				again();
			}
			else if((but1.value==='X'||but1.value==='O')&&(but2.value==='X'||but2.value==='O')&&
					(but3.value==='X'||but3.value==='O')&&(but4.value==='X'||but4.value==='O')&&
					(but5.value==='X'||but5.value==='O')&&(but6.value==='X'||but6.value==='O')&&
					(but7.value==='X'||but7.value==='O')&&(but8.value==='X'||but8.value==='O')&&
					(but9.value==='X'||but9.value==='O'))
			{
				plname.innerText='---GAME DRAW---';
				again();
			}
		}
		let comp=[1,2,3,4,5,6,7,8,9];
		let bname1=but1.name;
		let bname2=but2.name;
		let bname3=but3.name;
		let bname4=but4.name;
		let bname5=but5.name;
		let bname6=but6.name;
		let bname7=but7.name;
		let bname8=but8.name;
		let bname9=but9.name;
		function event()
		{
			let num1=comp[Math.floor(Math.random() * comp.length)];
			console.log(num1);
			if(num1==bname1)
			{
				if(but1.value==='')
				{
					but1.value='O';
				}
				else
				{
					event();
				}
			}
			else if(num1==bname2)
			{
				if(but2.value==='')
				{
					but2.value='O';
				}
				else
				{
					event();
				}
			}
			else if(num1==bname3)
			{
				if(but3.value==='')
				{
					but3.value='O';
				}
				else
				{
					event();
				}
			}
			else if(num1==bname4)
			{
				if(but4.value==='')
				{
					but4.value='O';
				}
				else
				{
					event();
				}
			}
			else if(num1==bname5)
			{
				if(but5.value==='')
				{
					but5.value='O';
				}
				else
				{
					event();
				}
			}
			else if(num1==bname6)
			{
				if(but6.value==='')
				{
					but6.value='O';
				}
				else
				{
					event();
				}
			}
			else if(num1==bname7)
			{
				if(but7.value==='')
				{
					but7.value='O';
				}
				else
				{
					event();
				}
			}
			else if(num1==bname8)
			{
				if(but8.value==='')
				{
					but8.value='O';
				}
				else
				{
					event();
				}
			}
			else if(num1==bname9)
			{
				if(but9.value==='')
				{
					but9.value='O';
				}
				else
				{
					event();
				}
			}
		}
		function computer()
		{	let plno=plname.innerText;
			let num=comp[Math.floor(Math.random() * comp.length)];
			console.log(num);
			if(plno==='---COMPUTER---')
			{
				if(((but2.value==='O'&&but3.value==='O')
				   ||(but5.value==='O'&&but9.value==='O')
				   ||(but4.value==='O'&&but7.value==='O')))
				{
					if(but1.value==='')
					{
						but1.value='O';
					}
					else
					{
						event();
					}
				}
				else if(((but1.value==='O'&&but3.value==='O')
						||(but5.value==='O'&&but8.value==='O')))
				{
					if(but2.value==='')
					{
						but2.value='O';
					}	
					else
					{
						event();
					}
				}
				else if(((but1.value==='O'&&but2.value==='O')
						||(but6.value==='O'&&but9.value==='O')
						||(but5.value==='O'&&but7.value==='O')))
				{
					if(but3.value==='')
					{
						but3.value='O';
					}
					else
					{
						event();
					}	
				}
				else if(((but1.value==='O'&&but7.value==='O')
						||(but5.value==='O'&&but6.value==='O')))
				{
					if(but4.value==='')
					{
						but4.value='O';
					}
					else
					{
						event();
					}	
				}
				else if(((but1.value==='O'&&but9.value==='O')
						||(but2.value==='O'&&but8.value==='O')
				  		||(but3.value==='O'&&but7.value==='O')
				  		||(but4.value==='O'&&but6.value==='O')))
				{
					if(but5.value==='')
					{
						but5.value='O';
					}
					else
					{
						event();
					}
				}
				else if(((but3.value==='O'&&but9.value==='O')
						||(but4.value==='O'&&but5.value==='O')))
				{
					if(but6.value==='')
					{
						but6.value='O';
					}
					else
					{
						event();
					}	
				}
				else if(((but1.value==='O'&&but4.value==='O')
						||(but3.value==='O'&&but5.value==='O')
						||(but8.value==='O'&&but9.value==='O')))
				{
					if(but7.value==='')
					{
						but7.value='O';
					}	
					else
					{
						event();
					}
				}
				else if(((but2.value==='O'&&but5.value==='O')
						||(but7.value==='O'&&but9.value==='O')))
				{
					if(but8.value==='')
					{
						but8.value='O';
					}
					else
					{
						event();
					}	
				}
				else if(((but1.value==='O'&&but5.value==='O')
						||(but3.value==='O'&&but6.value==='O')
						||(but7.value==='O'&&but8.value==='O')))
				{
					if(but9.value==='')
					{
						but9.value='O';
					}
					else
					{
						event();
					}
				}
				else if(((but2.value==='X'&&but3.value==='X')
				   ||(but5.value==='X'&&but9.value==='X')
				   ||(but4.value==='X'&&but7.value==='X')))
				{
					if(but1.value==='')
					{
						but1.value='O';
					}
					else
					{
						event();
					}
				}
				else if((but1.value==='X'&&but3.value==='X')
						||(but5.value==='X'&&but8.value==='X'))
				{
					if(but2.value==='')
					{
						but2.value='O';
					}	
					else
					{
						event();
					}
				}
				else if((but1.value==='X'&&but2.value==='X')
						||(but6.value==='X'&&but9.value==='X')
						||(but5.value==='X'&&but7.value==='X'))
				{
					if(but3.value==='')
					{
						but3.value='O';
					}
					else
					{
						event();
					}	
				}
				else if((but1.value==='X'&&but7.value==='X')
						||(but5.value==='X'&&but6.value==='X')) 
				{
					if(but4.value==='')
					{
						but4.value='O';
					}
					else
					{
						event();
					}	
				}
				else if((but1.value==='X'&&but9.value==='X')
						||(but2.value==='X'&&but8.value==='X')
				  		||(but3.value==='X'&&but7.value==='X')
				  		||(but4.value==='X'&&but6.value==='X'))
				{
					if(but5.value==='')
					{
						but5.value='O';
					}
					else
					{
						event();
					}
				}
				else if((but3.value==='X'&&but9.value==='X')
						||(but4.value==='X'&&but5.value==='X'))
				{
					if(but6.value==='')
					{
						but6.value='O';
					}
					else
					{
						event();
					}	
				}
				else if((but1.value==='X'&&but4.value==='X')
						||(but3.value==='X'&&but5.value==='X')
						||(but8.value==='X'&&but9.value==='X'))
				{
					if(but7.value==='')
					{
						but7.value='O';
					}	
					else
					{
						event();
					}
				}
				else if((but2.value==='X'&&but5.value==='X')  
						||(but7.value==='X'&&but9.value==='X')) 
				{
					if(but8.value==='')
					{
						but8.value='O';
					}
					else
					{
						event();
					}	
				}
				else if((but1.value==='X'&&but5.value==='X')
						||(but3.value==='X'&&but6.value==='X')
						||(but7.value==='X'&&but8.value==='X'))
				{
					if(but9.value==='')
					{
						but9.value='O';
					}
					else
					{
						event();
					}
				}
				else
				{
					event();
				}
				plname.innerText='---PLAYER X---';
				win();
			}
		}
		but1.addEventListener('click',function()
		{
			let plno=plname.innerText;
			if(plno==='---PLAYER X---')
			{
				if(but1.value==='')
				{
					but1.value='X';
					plname.innerText='---COMPUTER---';
					setTimeout(computer,2000);
					win();
				}
				else
				{
					alert('Place 1 Occupied');
				}
			}
		});
		but2.addEventListener('click',function()
		{
			let plno=plname.innerText;
			if(plno==='---PLAYER X---')
			{
				if(but2.value==='')
				{
					but2.value='X';
					plname.innerText='---COMPUTER---';
					setTimeout(computer,2000);
					win();
				}
				else
				{
					alert('Place 2 Occupied');
				}
				
			}
		});
		but3.addEventListener('click',function()
		{
			let plno=plname.innerText;
			if(plno==='---PLAYER X---')
			{
				if(but3.value==='')
				{
					but3.value='X';
					plname.innerText='---COMPUTER---';
					setTimeout(computer,2000);
					win();
				}
				else
				{
					alert('Place 3 Occupied');
				}
				
			}
		});
		but4.addEventListener('click',function()
		{
			let plno=plname.innerText;
			if(plno==='---PLAYER X---')
			{
				if(but4.value==='')
				{
					but4.value='X';
					plname.innerText='---COMPUTER---';
					setTimeout(computer,2000);
					win();
				}
				else
				{
					alert('Place 4 Occupied');
				}
				
			}
		});
		but5.addEventListener('click',function()
		{
			let plno=plname.innerText;
			if(plno==='---PLAYER X---')
			{
				if(but5.value==='')
				{
					but5.value='X';
					plname.innerText='---COMPUTER---';
					setTimeout(computer,2000);
					win();
				}
				else
				{
					alert('Place 5 Occupied');
				}
				
			}
		});
		but6.addEventListener('click',function()
		{
			let plno=plname.innerText;
			if(plno==='---PLAYER X---')
			{
				if(but6.value==='')
				{
					but6.value='X';
					plname.innerText='---COMPUTER---';
					setTimeout(computer,2000);
					win();
				}
				else
				{
					alert('Place 6 Occupied');
				}
				
			}
		});
		but7.addEventListener('click',function()
		{
			let plno=plname.innerText;
			if(plno==='---PLAYER X---')
			{
				if(but7.value==='')
				{
					but7.value='X';
					plname.innerText='---COMPUTER---';
					setTimeout(computer,2000);
					win();
				}
				else
				{
					alert('Place 7 Occupied');
				}
				
			}
		});
		but8.addEventListener('click',function()
		{
			let plno=plname.innerText;
			if(plno==='---PLAYER X---')
			{
				if(but8.value==='')
				{
					but8.value='X';
					plname.innerText='---COMPUTER---';
					setTimeout(computer,2000);
					win();
				}
				else
				{
					alert('Place 8 Occupied');
				}
				
			}
		});
		but9.addEventListener('click',function()
		{
			let plno=plname.innerText;
			if(plno==='---PLAYER X---')
			{
				if(but9.value==='')
				{
					but9.value='X';
					plname.innerText='---COMPUTER---';
					setTimeout(computer,2000);
					win();
				}
				else
				{
					alert('Place 9 Occupied');
				}	
			}
		});
	</script>
</body>
</html>